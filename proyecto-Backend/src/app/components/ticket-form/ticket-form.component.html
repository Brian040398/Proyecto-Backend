<div class="container bg-secondary-subtle" >
  <div class="row">
      <div class="col-md-8 offset-md-2">
          <br>
          <div class="letra3 text-center">
              <h1>Tickets</h1>
              <br>
          </div>
          <form class="p-3" #ticketForm="ngForm">
              <div class="mb-3">
                  <label for="precioTicket" class="form-label"  >Precio Ticket</label>
                  <input type="number" class="form-control form-control-sm" placeholder="Ingrese Precio Ticket"
                      id="precioTicket" [(ngModel)]="ticket.precioTicket" name="precioTicket" required
                      #precioTicket="ngModel">
              </div>

              <div class="mb-3">
                  <label for="fechaCompra" class="form-label" >Fecha Compra</label>
                  <input type="text" class="form-control form-control-sm" placeholder="Ingrese Fecha" id="fechaCompra"
                      [(ngModel)]="ticket.fechaCompra" name="fechaCompra" required #fechaCompra="ngModel">
              </div>

              <div class="mb-3">
                  <label for="email" class="form-label" >Email</label>
                  <input type="email" class="form-control form-control-sm" placeholder="Ingrese Email" id="email"
                      [(ngModel)]="ticket.email" name="email" required #email="ngModel">
              </div>

              <div class="mb-3">
                  <label for="categoriaEspectador" class="form-label" >Tipo de
                      Espectador</label>
                  <select v-model="selected" class="form-select" aria-label="Default select example"
                      [(ngModel)]="ticket.categoriaEspectador" name="categoriaEspectador" required
                      #categoriaEspectador="ngModel" (ngModelChange)="calcularDescuanto()">

                      <option disabled value=""></option>
                      <option value="l">Local</option>
                      <option value="e">Extranjero</option>
                  </select>
              </div>

              <div class="mb-3">
                  <label for="espectador" class="form-label" >Espectador</label>
                  <select class="form-select" aria-label="Default select example" placeholder="Ingrese un Espectador"
                      [(ngModel)]="ticket.espectador" name="espectador" required #espectador="ngModel">

                      <option *ngFor="let espectador of espectadores" [ngValue]="espectador">{{espectador.nombre}},
                          {{espectador.apellido}}
                      </option>
                  </select>
                  
              </div>

              <div class="caja mb-3" *ngIf="ticket.precioTicket && ticket.categoriaEspectador" required>
                  <label for="precioCobrado" class="form-label"   >Precio Cobrado: </label>
                  {{precioCobrado}}
              </div>

              <button *ngIf="accion=='new'" type="submit" (click)="registrar()" class="btn btn-primary"
                  >Registrar Ticket</button>
              <button *ngIf="accion=='update'" type="submit" (click)="actualizarTicket()"
                  class="btn btn-warning">Actualizar</button>

              <br><br>
          </form>
      </div>
  </div>
</div>

